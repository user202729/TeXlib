%! TEX program = lualatex
\documentclass[12pt]{article}
\usepackage[paper=a4paper,margin=0.6cm]{geometry}


\errorstopmode
\errorcontextlines=999

\usepackage{benchmark}
\benchmark c
\usepackage{precattl}
\benchmark d
\usepackage{pretty}
\benchmark a
\usepackage[abspath]{currfile}
\benchmark d
\usepackage{genvar}
\benchmark b
\AutoGenerateVariants
\begin{document}


\ExplSyntaxOn
\pretty:n {123}
\benchmark{run~start}
\tl_set:Nn \__content {
	\cFrozenRelax
	\relax

	\cC {abc ^ \ def}
	\cB \a \cE \z
	\cB \{ \cE \}
	\cB \( \cE \)
	\cM \b
	\cT \c
	\cP \d
	\cU \e
	\cD \f
	\cS \j
	\cL \g
	\cO \h
	\cA \i \cA {\~\ }
	
	\cM \  %
	\cT \  %
	\cP \  %
	\cU \  %
	\cD \  %
	\cS \  %
	\cL \  %
	\cO \  %
	%\pretty:n {content \cO{something123~?[]} \cO\\ \cO\~ \cO\  \cS\a \cS\   }
}
\benchmark{set~content}

\benchmark{--}
\precattl_set:NV \__tmp \__content
\benchmark{precattl~done}
\pretty:V \__tmp

%\benchmark{--}
%\precattl_setx:NV \__tmp \__content
%\benchmark{precattl~done}
%\pretty:V \__tmp

\benchmark{--}
\tl_analysis_map_inline:Nn \__content {}
\benchmark{analysis_map~alone}

\precattl_exec:n {
	\begingroup
	\let\relax\undefined

	\ifx \relax \undefined
		\pretty:n{normal~relax~become~undefined}
	\fi

	\ifx \cFrozenRelax \undefined
		\pretty:n{NOOOOO}
	\else
		\pretty:n{frozen~relax~remains~relax}
	\fi
	\endgroup

	\pretty:no {string~representation~of~\cFrozenRelax~is~}
		{\string\cFrozenRelax}
}

\ExplSyntaxOff

\end{document}
